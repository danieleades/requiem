---
_version: '1'
uuid: 0a71da3b-3684-4d58-ba36-9b74fb2cec85
created: 2025-10-26T16:55:20.079234662Z
---
# Listing Filters and Scopes

## Statement

The `req list` command shall support filters that limit results by structural, categorical, or textual criteria without requiring additional scripting.

## Rationale

Large projects routinely ask focused questions: “Show me the SYS requirements under USR-004”, “List everything owned by the security namespace”, or “Find requirements mentioning ‘latency’”. Native filters keep those workflows fast, repeatable, and reviewer-friendly.

## CLI Interface

- `--kind <KIND>[,<KIND>...]` filters by requirement kind (case-insensitive, supports namespaces such as `AUTH-USR`).
- `--namespace <NS>[,<NS>...]` selects requirements whose HRIDs include the given namespace segment(s).
- `--tag <TAG>[,<TAG>...]` matches requirements whose frontmatter contains any of the requested tags.
- `--orphans` limits to requirements with no parents; `--leaves` limits to requirements with no children.
- `--contains <TEXT>` performs a case-insensitive substring match against titles and body text.
- `--regex <PATTERN>` applies a Rust regular expression against the same text fields (mutually exclusive with `--contains`).
- Filters combine conjunctively by default (record must satisfy all provided filters). Supplying the same flag multiple times uses disjunction within that flag (e.g., `--kind USR --kind SYS`).
- `--limit <N>` and `--offset <N>` support pagination for very large result sets.

## Verification

- `req list --kind SYS` lists only system requirements when both user and system requirements exist.
- `req list --namespace payment` returns HRIDs where the namespace segment matches `payment`.
- `req list --orphans` shows only requirements with zero parents based on frontmatter.
- `req list --contains latency` includes requirements whose title or body mention “latency”.
- Combining filters (`req list --kind SYS --tag safety --contains sensor`) yields only entries satisfying all three constraints.

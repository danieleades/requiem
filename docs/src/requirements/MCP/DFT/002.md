---
_version: '1'
uuid: a6b6b6d0-0633-4de4-bbe7-7de3f1b6c7d0
created: 2025-11-25T09:01:00Z
parents:
- uuid: 2b0b18b3-1fb4-4d8a-9f15-9c5a2e26c59a
  fingerprint: bda1710bc21e928723b9bf092f17598fc586b85650b09c9e0d125be1a78e7ddf
  hrid: MCP-SYS-005
---
# MCP-DFT-002 MCP server does not reload on filesystem changes

## Observation
The MCP server loads the requirements directory once at startup and never reloads it when files or config change.

## Evidence
- `req-mcp/src/state.rs` wraps a `Directory` loaded only in `ServerState::new`.
- `req-mcp/src/main.rs` initializes state once and never watches or refreshes it.

## Impact
Active MCP sessions return stale data after edits, additions, deletions, or config changes, violating MCP-SYS-005 and risking incorrect guidance to agents.

## Expected
Detect filesystem changes (requirements and `.req/config.toml`) and reload the directory so MCP tool calls always reflect current repository state without requiring a server restart.

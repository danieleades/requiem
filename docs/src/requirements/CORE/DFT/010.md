---
_version: '1'
uuid: e1aa3abb-8c7f-4fec-97f4-c8fa621325a5
created: 2025-11-25T08:11:36.489467477Z
parents:
- uuid: 12fcd31d-7b7a-41d1-a072-66248ad6f86f
  fingerprint: 871e1315f8c1b26164814a1f159ab140ab3bba4997a299173a5ec9a80e9b12d6
  hrid: CORE-USR-004
- uuid: 5918e1d4-da9e-4f77-934b-56161a25d48e
  fingerprint: f3c2e5bc65c5a1d23a140948b2b5208943a54b1e5d4b83874ece74de662ccb75
  hrid: CORE-SYS-004
tags:
- P1
---
# CORE-DFT-010 Cycle detection missing from validation and CLI operations

## Observation
Cycle detection is missing from validation and preventative CLI operations. While `Directory::new()` can load graphs containing cycles (necessary for diagnostics), there is no cycle detection to:
1. Report cycles via the `validate` command
2. Prevent cycle creation via CLI commands like `link`

## Evidence
- No cycle detection logic in req-core/src (grep for "cycle" yields none)
- `validate` command doesn't report cycles (see CLI-DFT-001, CLI-DFT-007)
- No cycle prevention in `link` command or other operations that modify the graph
- CORE-USR-004/CORE-SYS-004 require DAG enforcement with error reporting when cycles exist

## Impact
- Repositories containing cycles can be created but users have no way to detect or diagnose them
- Violates DAG requirements in CORE-USR-004/CORE-SYS-004

## Expected
- `validate` command detects and reports cycles with full cycle paths
- CLI commands like `link` reject operations that would create cycles
- Users can diagnose and fix broken repositories through validation output and manual editing

## GitHub Issue
https://github.com/danieleades/requiem/issues/88

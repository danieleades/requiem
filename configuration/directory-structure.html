<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Directory Structure - Requiem User Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A comprehensive guide to plain-text requirements management with Requiem">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Requiem User Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/danieleades/requirements-manager" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/danieleades/requirements-manager/edit/main/docs/src/configuration/directory-structure.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="directory-structure"><a class="header" href="#directory-structure">Directory Structure</a></h1>
<p>Requiem is flexible about how you organize requirements on disk. This chapter explains directory organization options and best practices.</p>
<h2 id="directory-structure-modes"><a class="header" href="#directory-structure-modes">Directory Structure Modes</a></h2>
<p>Requiem supports two fundamental modes for organizing requirements, controlled by the <code>subfolders_are_namespaces</code> configuration option:</p>
<h3 id="1-filename-based-mode-default"><a class="header" href="#1-filename-based-mode-default">1. Filename-Based Mode (Default)</a></h3>
<p><strong>Configuration</strong>: <code>subfolders_are_namespaces = false</code> (or omitted)</p>
<p>In this mode, the full HRID is encoded in the filename, and directory structure is purely organizational:</p>
<pre><code>my-requirements/
├── USR-001.md              → HRID: USR-001
├── SYS-002.md              → HRID: SYS-002
├── auth-USR-003.md         → HRID: auth-USR-003
└── custom/folder/
    └── system-REQ-004.md   → HRID: system-REQ-004
</code></pre>
<p><strong>Use when</strong>: You want maximum flexibility in folder organization without affecting requirement namespaces.</p>
<h3 id="2-path-based-mode"><a class="header" href="#2-path-based-mode">2. Path-Based Mode</a></h3>
<p><strong>Configuration</strong>: <code>subfolders_are_namespaces = true</code></p>
<p>In this mode, subfolders encode the namespace, and the filename contains only KIND-ID:</p>
<pre><code>my-requirements/
├── REQ-001.md              → HRID: REQ-001 (no namespace)
├── system/
│   └── auth/
│       ├── REQ-002.md      → HRID: system-auth-REQ-002
│       └── USR/
│           └── 003.md      → HRID: system-auth-USR-003 (KIND from parent)
</code></pre>
<p>The filename format is automatically inferred:</p>
<ul>
<li><strong>Numeric only</strong> (e.g., <code>003.md</code>) → KIND taken from parent folder</li>
<li><strong>KIND-ID</strong> (e.g., <code>REQ-002.md</code>) → KIND and ID from filename</li>
</ul>
<p><strong>Use when</strong>: You want folder structure to directly mirror requirement namespaces.</p>
<h2 id="basic-structure"><a class="header" href="#basic-structure">Basic Structure</a></h2>
<p>At minimum, you need a directory containing requirement markdown files:</p>
<pre><code>my-requirements/
├── USR-001.md
├── USR-002.md
├── SYS-001.md
└── SYS-002.md
</code></pre>
<p>That's it! No initialization or hidden directories required.</p>
<h2 id="with-configuration"><a class="header" href="#with-configuration">With Configuration</a></h2>
<p>Add a <code>config.toml</code> for project-specific settings:</p>
<pre><code>my-requirements/
├── config.toml      ← Configuration
├── USR-001.md
├── USR-002.md
├── SYS-001.md
└── SYS-002.md
</code></pre>
<p>The configuration file is optional but recommended for projects with specific needs.</p>
<h2 id="using-subdirectories"><a class="header" href="#using-subdirectories">Using Subdirectories</a></h2>
<p>Requiem recursively searches subdirectories, enabling hierarchical organization.</p>
<h3 id="organize-by-requirement-kind"><a class="header" href="#organize-by-requirement-kind">Organize by Requirement Kind</a></h3>
<pre><code>requirements/
├── config.toml
├── user/
│   ├── USR-001.md
│   ├── USR-002.md
│   └── USR-003.md
├── system/
│   ├── SYS-001.md
│   ├── SYS-002.md
│   └── SYS-003.md
└── test/
    ├── TST-001.md
    └── TST-002.md
</code></pre>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Clear separation of requirement levels</li>
<li>Easy to navigate</li>
<li>Natural for large projects</li>
</ul>
<p><strong>Note</strong>: In filename-based mode (default), directory names don't affect requirement behavior. <code>user/USR-001.md</code> and <code>system/USR-001.md</code> would create a filename conflict (both have HRID <code>USR-001</code>), so use different kinds. In path-based mode, these would have different HRIDs: <code>user-USR-001</code> and <code>system-USR-001</code>.</p>
<h3 id="organize-by-feature"><a class="header" href="#organize-by-feature">Organize by Feature</a></h3>
<pre><code>requirements/
├── config.toml
├── authentication/
│   ├── USR-001.md   # User login
│   ├── SYS-001.md   # Auth service
│   └── TST-001.md   # Auth tests
├── payment/
│   ├── USR-002.md   # Payment processing
│   ├── SYS-002.md   # Payment gateway
│   └── TST-002.md   # Payment tests
└── reporting/
    ├── USR-003.md   # Report generation
    └── SYS-003.md   # Report engine
</code></pre>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Groups related requirements</li>
<li>Mirrors feature structure</li>
<li>Good for feature-based development</li>
</ul>
<h3 id="organize-by-component"><a class="header" href="#organize-by-component">Organize by Component</a></h3>
<pre><code>requirements/
├── config.toml
├── frontend/
│   ├── WEB-USR-001.md
│   ├── WEB-SYS-001.md
│   ├── MOBILE-USR-001.md
│   └── MOBILE-SYS-001.md
└── backend/
    ├── API-SYS-001.md
    ├── DB-SYS-001.md
    └── CACHE-SYS-001.md
</code></pre>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Aligns with system architecture</li>
<li>Clear ownership boundaries</li>
<li>Natural for microservices</li>
</ul>
<p><strong>Note</strong>: Consider using namespaces in HRIDs (e.g., <code>WEB-USR-001</code>) to avoid conflicts.</p>
<h3 id="deep-hierarchies"><a class="header" href="#deep-hierarchies">Deep Hierarchies</a></h3>
<p>Requiem supports arbitrary nesting:</p>
<pre><code>requirements/
├── config.toml
└── product/
    ├── core/
    │   ├── auth/
    │   │   ├── USR-001.md
    │   │   └── SYS-001.md
    │   └── data/
    │       ├── USR-002.md
    │       └── SYS-002.md
    └── plugins/
        ├── export/
        │   └── USR-003.md
        └── import/
            └── USR-004.md
</code></pre>
<p><strong>Caution</strong>: Deep hierarchies can be harder to navigate. Consider flat or shallow structures unless your project naturally requires depth.</p>
<h2 id="flat-vs-hierarchical"><a class="header" href="#flat-vs-hierarchical">Flat vs. Hierarchical</a></h2>
<h3 id="flat-structure"><a class="header" href="#flat-structure">Flat Structure</a></h3>
<pre><code>requirements/
├── config.toml
├── USR-001.md
├── USR-002.md
├── ...
├── USR-050.md
├── SYS-001.md
├── SYS-002.md
├── ...
└── SYS-100.md
</code></pre>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Simple and straightforward</li>
<li>Easy to understand</li>
<li>Works well for small/medium projects (&lt; 100 requirements)</li>
</ul>
<p><strong>Disadvantages</strong>:</p>
<ul>
<li>Directory listing can become unwieldy with many requirements</li>
<li>Harder to navigate in file browser with 100+ files</li>
</ul>
<p><strong>Best for</strong>: Small to medium projects, single-component systems.</p>
<h3 id="hierarchical-structure"><a class="header" href="#hierarchical-structure">Hierarchical Structure</a></h3>
<pre><code>requirements/
├── config.toml
├── user-requirements/
│   └── (50 files)
├── system-requirements/
│   └── (100 files)
└── test-requirements/
    └── (150 files)
</code></pre>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Scalable to large projects (1000+ requirements)</li>
<li>Natural organization</li>
<li>Easier to navigate</li>
</ul>
<p><strong>Disadvantages</strong>:</p>
<ul>
<li>Slightly more complex</li>
<li>Must decide on hierarchy scheme</li>
</ul>
<p><strong>Best for</strong>: Large projects, multi-component systems.</p>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="1-start-flat-refactor-when-needed"><a class="header" href="#1-start-flat-refactor-when-needed">1. Start Flat, Refactor When Needed</a></h3>
<p>Begin with a flat structure:</p>
<pre><code>requirements/
├── config.toml
├── USR-001.md
└── SYS-001.md
</code></pre>
<p>Introduce subdirectories when you have 50+ requirements or natural groupings emerge.</p>
<h3 id="2-use-consistent-naming"><a class="header" href="#2-use-consistent-naming">2. Use Consistent Naming</a></h3>
<p>If using subdirectories, name them consistently:</p>
<pre><code>requirements/
├── 1-user-requirements/
├── 2-system-requirements/
├── 3-software-requirements/
└── 4-test-requirements/
</code></pre>
<p>Or:</p>
<pre><code>requirements/
├── user/
├── system/
├── software/
└── test/
</code></pre>
<p><strong>Avoid</strong>: Mixing naming schemes (<code>user_reqs/</code>, <code>system-requirements/</code>, <code>Tests/</code>).</p>
<h3 id="3-keep-shallow-2-3-levels-max"><a class="header" href="#3-keep-shallow-2-3-levels-max">3. Keep Shallow (2-3 Levels Max)</a></h3>
<p>Prefer:</p>
<pre><code>requirements/
└── user/
    └── USR-001.md
</code></pre>
<p>Over:</p>
<pre><code>requirements/
└── level1/
    └── level2/
        └── level3/
            └── level4/
                └── USR-001.md
</code></pre>
<p>Deep hierarchies are hard to navigate and remember.</p>
<h3 id="4-align-with-team-structure"><a class="header" href="#4-align-with-team-structure">4. Align with Team Structure</a></h3>
<p>Organize to match how your team works:</p>
<p><strong>Team by feature</strong>:</p>
<pre><code>requirements/
├── login-team/
├── payment-team/
└── reporting-team/
</code></pre>
<p><strong>Team by layer</strong>:</p>
<pre><code>requirements/
├── product-managers/  (USR requirements)
├── architects/        (SYS requirements)
└── developers/        (SWR requirements)
</code></pre>
<h3 id="5-dont-encode-information-in-paths"><a class="header" href="#5-dont-encode-information-in-paths">5. Don't Encode Information in Paths</a></h3>
<p><strong>Bad</strong>:</p>
<pre><code>requirements/
└── high-priority/
    └── USR-001.md  # Priority encoded in directory
</code></pre>
<p><strong>Good</strong>:</p>
<pre><code>requirements/
└── USR-001.md

# USR-001.md content:
---
tags:
- high-priority
---
The requirement text...
</code></pre>
<p>Use tags or content for metadata, not directory structure. Directories are for organization only.</p>
<h2 id="special-cases"><a class="header" href="#special-cases">Special Cases</a></h2>
<h3 id="mixed-content-requirements--documentation"><a class="header" href="#mixed-content-requirements--documentation">Mixed Content (Requirements + Documentation)</a></h3>
<p>If requirements live alongside other documentation:</p>
<pre><code>docs/
├── config.toml
├── introduction.md      ← Not a requirement
├── architecture.md      ← Not a requirement
├── requirements/
│   ├── USR-001.md      ← Requirement
│   └── SYS-001.md      ← Requirement
└── user-guide.md        ← Not a requirement
</code></pre>
<p>Set <code>allow_unrecognised = true</code> in <code>config.toml</code> to allow non-requirement markdown files.</p>
<h3 id="integration-with-mdbook"><a class="header" href="#integration-with-mdbook">Integration with MdBook</a></h3>
<p>MdBook projects:</p>
<pre><code>docs/
├── book.toml           ← MdBook config
├── src/
│   ├── SUMMARY.md      ← MdBook table of contents
│   ├── chapter1.md     ← Documentation
│   ├── USR-001.md      ← Requirement (can be in SUMMARY.md)
│   └── USR-002.md      ← Requirement
└── config.toml         ← Requiem config (allow_unrecognised = true)
</code></pre>
<p>See <a href="../integration/mdbook.html">Integration &gt; Using with MdBook</a> for details.</p>
<h3 id="integration-with-sphinx"><a class="header" href="#integration-with-sphinx">Integration with Sphinx</a></h3>
<p>Sphinx projects:</p>
<pre><code>docs/
├── conf.py             ← Sphinx config
├── index.md
├── requirements/
│   ├── config.toml     ← Requiem config
│   ├── USR-001.md      ← Requirement
│   └── SYS-001.md      ← Requirement
└── other-content.md
</code></pre>
<p>See <a href="../integration/sphinx.html">Integration &gt; Using with Sphinx</a> for details.</p>
<h3 id="monorepo-structure"><a class="header" href="#monorepo-structure">Monorepo Structure</a></h3>
<p>Large monorepos with multiple products:</p>
<pre><code>monorepo/
├── products/
│   ├── web-app/
│   │   └── requirements/
│   │       ├── config.toml
│   │       └── WEB-USR-001.md
│   └── mobile-app/
│       └── requirements/
│           ├── config.toml
│           └── MOBILE-USR-001.md
└── shared/
    └── requirements/
        ├── config.toml
        └── CORE-SYS-001.md
</code></pre>
<p>Each product/component has its own independent requirements directory with separate <code>config.toml</code>.</p>
<h2 id="file-system-considerations"><a class="header" href="#file-system-considerations">File System Considerations</a></h2>
<h3 id="case-sensitivity"><a class="header" href="#case-sensitivity">Case Sensitivity</a></h3>
<p><strong>Linux/Mac</strong>: Filenames are case-sensitive</p>
<ul>
<li><code>USR-001.md</code> and <code>usr-001.md</code> are different files</li>
<li>Requiem only recognizes <code>USR-001.md</code> (uppercase HRID)</li>
</ul>
<p><strong>Windows</strong>: Filenames are case-insensitive</p>
<ul>
<li><code>USR-001.md</code> and <code>usr-001.md</code> refer to the same file</li>
<li>Use consistent casing to avoid issues</li>
</ul>
<p><strong>Recommendation</strong>: Always use uppercase HRIDs to avoid cross-platform issues.</p>
<h3 id="symbolic-links"><a class="header" href="#symbolic-links">Symbolic Links</a></h3>
<p>Requiem follows symbolic links when scanning for requirements:</p>
<pre><code>requirements/
├── current -&gt; v2.0/     ← Symlink
├── v1.0/
│   └── USR-001.md
└── v2.0/
    └── USR-001.md
</code></pre>
<p><strong>Caution</strong>: Ensure symlinks don't create cycles or duplicate requirements.</p>
<h3 id="hidden-files-and-directories"><a class="header" href="#hidden-files-and-directories">Hidden Files and Directories</a></h3>
<p>Files and directories starting with <code>.</code> are typically ignored by Requiem (following standard Unix convention):</p>
<pre><code>requirements/
├── .git/               ← Ignored
├── .DS_Store           ← Ignored (Mac)
├── config.toml
└── USR-001.md
</code></pre>
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<h3 id="large-directories"><a class="header" href="#large-directories">Large Directories</a></h3>
<p>Requiem uses parallel loading for performance:</p>
<pre><code>requirements/
├── USR-001.md
├── USR-002.md
├── ...
└── USR-5000.md  # 5000 files loads quickly due to parallelism
</code></pre>
<p><strong>Performance</strong>: Requiem can handle thousands of requirements efficiently. Directory structure has minimal performance impact.</p>
<h3 id="network-file-systems"><a class="header" href="#network-file-systems">Network File Systems</a></h3>
<p>If requirements are on a network drive:</p>
<ul>
<li>Initial loading may be slower</li>
<li>Consider using subdirectories to localize access patterns</li>
<li>Parallel loading helps mitigate network latency</li>
</ul>
<h2 id="choosing-between-modes"><a class="header" href="#choosing-between-modes">Choosing Between Modes</a></h2>
<h3 id="when-to-use-filename-based-mode-default"><a class="header" href="#when-to-use-filename-based-mode-default">When to Use Filename-Based Mode (Default)</a></h3>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Maximum flexibility - organize folders however you want</li>
<li>Easy to move files between folders without changing HRIDs</li>
<li>Works well with arbitrary organizational schemes (by feature, by team, etc.)</li>
<li>Explicit namespaces visible in every filename</li>
</ul>
<p><strong>Best for</strong>:</p>
<ul>
<li>Projects where folder structure is organizational, not semantic</li>
<li>Teams that reorganize folders frequently</li>
<li>Mixed organizational schemes</li>
<li>When you want full control over namespaces</li>
</ul>
<p><strong>Example</strong>:</p>
<pre><code>requirements/
├── team-a/
│   └── auth-USR-001.md      → HRID: auth-USR-001
└── team-b/
    └── auth-SYS-002.md      → HRID: auth-SYS-002
</code></pre>
<h3 id="when-to-use-path-based-mode"><a class="header" href="#when-to-use-path-based-mode">When to Use Path-Based Mode</a></h3>
<p><strong>Advantages</strong>:</p>
<ul>
<li>Cleaner filenames (shorter, less redundant)</li>
<li>Folder structure enforces namespace consistency</li>
<li>Natural for hierarchical component structures</li>
<li>Automatic namespace creation from folders</li>
</ul>
<p><strong>Best for</strong>:</p>
<ul>
<li>Projects with stable, hierarchical component structures</li>
<li>When folder structure mirrors system architecture</li>
<li>Microservices or multi-component systems</li>
<li>When you want enforced namespace-folder alignment</li>
</ul>
<p><strong>Example</strong>:</p>
<pre><code>requirements/
├── auth/
│   ├── USR-001.md           → HRID: auth-USR-001
│   └── SYS-002.md           → HRID: auth-SYS-002
└── payment/
    ├── USR-001.md           → HRID: payment-USR-001
    └── SYS-002.md           → HRID: payment-SYS-002
</code></pre>
<h3 id="comparison-table"><a class="header" href="#comparison-table">Comparison Table</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Aspect</th><th>Filename-Based</th><th>Path-Based</th></tr></thead><tbody>
<tr><td><strong>Filename contains</strong></td><td>Full HRID</td><td>KIND-ID only</td></tr>
<tr><td><strong>Namespace from</strong></td><td>Filename</td><td>Folder path</td></tr>
<tr><td><strong>Folder flexibility</strong></td><td>High</td><td>Low (tied to namespace)</td></tr>
<tr><td><strong>File move impact</strong></td><td>None</td><td>Changes HRID</td></tr>
<tr><td><strong>Filename length</strong></td><td>Longer</td><td>Shorter</td></tr>
<tr><td><strong>Default mode</strong></td><td>Yes</td><td>No</td></tr>
</tbody></table>
</div>
<h2 id="migration-between-modes"><a class="header" href="#migration-between-modes">Migration Between Modes</a></h2>
<h3 id="converting-from-filename-based-to-path-based"><a class="header" href="#converting-from-filename-based-to-path-based">Converting from Filename-Based to Path-Based</a></h3>
<ol>
<li><strong>Update configuration</strong>:</li>
</ol>
<pre><code class="language-toml"># config.toml
_version = "1"
subfolders_are_namespaces = true
</code></pre>
<ol start="2">
<li><strong>Reorganize files</strong> to match namespace structure:</li>
</ol>
<pre><code class="language-bash"># Before (filename-based):
# requirements/
# ├── auth-USR-001.md
# └── payment-USR-002.md

# Create namespace folders
mkdir -p auth payment

# Move and rename files
mv auth-USR-001.md auth/USR-001.md
mv payment-USR-002.md payment/USR-002.md

# After (path-based):
# requirements/
# ├── auth/
# │   └── USR-001.md
# └── payment/
#     └── USR-002.md
</code></pre>
<ol start="3">
<li><strong>Verify</strong>:</li>
</ol>
<pre><code class="language-bash">req clean
</code></pre>
<h3 id="converting-from-path-based-to-filename-based"><a class="header" href="#converting-from-path-based-to-filename-based">Converting from Path-Based to Filename-Based</a></h3>
<ol>
<li><strong>Flatten files</strong> and encode namespace in filename:</li>
</ol>
<pre><code class="language-bash"># Before (path-based):
# requirements/
# ├── auth/
# │   └── USR-001.md        (HRID: auth-USR-001)
# └── payment/
#     └── USR-002.md        (HRID: payment-USR-002)

# Move and rename with full HRID
mv auth/USR-001.md auth-USR-001.md
mv payment/USR-002.md payment-USR-002.md

# Remove now-empty folders
rmdir auth payment

# After (filename-based):
# requirements/
# ├── auth-USR-001.md
# └── payment-USR-002.md
</code></pre>
<ol start="2">
<li><strong>Update configuration</strong>:</li>
</ol>
<pre><code class="language-toml"># config.toml
_version = "1"
subfolders_are_namespaces = false
</code></pre>
<ol start="3">
<li><strong>Verify</strong>:</li>
</ol>
<pre><code class="language-bash">req clean
</code></pre>
<p><strong>Note</strong>: When converting between modes, the HRID (and thus UUID) remains the same, preserving all links and history.</p>
<h2 id="migration-and-refactoring"><a class="header" href="#migration-and-refactoring">Migration and Refactoring</a></h2>
<h3 id="reorganizing-files"><a class="header" href="#reorganizing-files">Reorganizing Files</a></h3>
<p>To reorganize directory structure in filename-based mode:</p>
<ol>
<li>Move requirement files:</li>
</ol>
<pre><code class="language-bash">mkdir system
mv SYS-*.md system/
</code></pre>
<ol start="2">
<li>Verify:</li>
</ol>
<pre><code class="language-bash">req clean
</code></pre>
<ol start="3">
<li>Commit:</li>
</ol>
<pre><code class="language-bash">git add -A
git commit -m "Organize system requirements into subdirectory"
</code></pre>
<p><strong>Safe because</strong>: Requirements are identified by HRID (filename), not path. Moving files doesn't break links.</p>
<h3 id="splitting-directories"><a class="header" href="#splitting-directories">Splitting Directories</a></h3>
<p>To split a large flat directory:</p>
<pre><code class="language-bash"># Before
requirements/
├── USR-001.md (100 files)

# After
requirements/
├── user/
│   └── USR-001.md (100 files)
└── system/
    └── SYS-001.md (100 files)
</code></pre>
<p>Steps:</p>
<pre><code class="language-bash">mkdir user system test
mv USR-*.md user/
mv SYS-*.md system/
mv TST-*.md test/
req clean  # Verify
</code></pre>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p><strong>Key Takeaways</strong>:</p>
<ol>
<li><strong>Flexible</strong>: Flat or hierarchical, your choice</li>
<li><strong>Recursive</strong>: Subdirectories are automatically scanned</li>
<li><strong>Simple</strong>: Directory names don't affect requirement behavior</li>
<li><strong>Scalable</strong>: Supports small projects (10s) to large (1000s)</li>
<li><strong>Reorganizable</strong>: Safe to move files (links use UUIDs, not paths)</li>
</ol>
<p><strong>Recommendations</strong>:</p>
<ul>
<li>Start flat, add structure as needed</li>
<li>Keep shallow (2-3 levels max)</li>
<li>Organize by kind, feature, or component</li>
<li>Use consistent naming conventions</li>
<li>Align with team structure</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ul>
<li>Understand <a href="./namespaces.html">Namespaces</a> for large multi-component projects</li>
<li>Learn about <a href="../integration/version-control.html">Version Control Best Practices</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../configuration/config-file.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../configuration/namespaces.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../configuration/config-file.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../configuration/namespaces.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>

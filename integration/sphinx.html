<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using with Sphinx - Requiem User Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A comprehensive guide to plain-text requirements management with Requiem">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Requiem User Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/danieleades/requirements-manager" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/danieleades/requirements-manager/edit/main/docs/src/integration/sphinx.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="using-with-sphinx"><a class="header" href="#using-with-sphinx">Using with Sphinx</a></h1>
<p><a href="https://www.sphinx-doc.org/">Sphinx</a> is a powerful documentation generator widely used in Python projects. Requiem requirements can be integrated with Sphinx documentation.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Sphinx traditionally uses reStructuredText (RST), but with the <a href="https://myst-parser.readthedocs.io/">MyST Parser</a> extension, Sphinx can process Markdown files including Requiem requirements.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<ul>
<li>Python 3.7 or later</li>
<li>Sphinx</li>
<li>MyST Parser extension</li>
</ul>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<p>Using pip:</p>
<pre><code class="language-bash">pip install sphinx myst-parser
</code></pre>
<p>Using uv (recommended):</p>
<pre><code class="language-bash">uv pip install sphinx myst-parser
</code></pre>
<h3 id="project-structure"><a class="header" href="#project-structure">Project Structure</a></h3>
<pre><code>docs/
├── conf.py             ← Sphinx configuration
├── index.md            ← Main documentation
├── requirements/       ← Requirements directory
│   ├── config.toml     ← Requiem configuration
│   ├── USR-001.md
│   ├── USR-002.md
│   ├── SYS-001.md
│   └── SYS-002.md
└── guides/
    └── user-guide.md
</code></pre>
<h3 id="sphinx-configuration"><a class="header" href="#sphinx-configuration">Sphinx Configuration</a></h3>
<p>Configure Sphinx to use MyST Parser for Markdown:</p>
<p><strong>conf.py</strong>:</p>
<pre><code class="language-python">project = 'My Project'
copyright = '2025, Your Name'
author = 'Your Name'

# Add MyST Parser extension
extensions = ["myst_parser"]

# Exclude non-documentation files
exclude_patterns = [
    '_build',
    'Thumbs.db',
    '.DS_Store',
    'requirements/config.toml',  # Exclude Requiem config
]

# Optional: Configure MyST Parser
myst_enable_extensions = [
    "colon_fence",
    "deflist",
    "tasklist",
]

html_theme = 'alabaster'  # Or your preferred theme
</code></pre>
<h3 id="requiem-configuration"><a class="header" href="#requiem-configuration">Requiem Configuration</a></h3>
<p>Since requirements live in a subdirectory with other Sphinx content, configure Requiem appropriately:</p>
<p><strong>requirements/config.toml</strong>:</p>
<pre><code class="language-toml">_version = "1"
# Strict mode OK here since requirements are in dedicated directory
allow_unrecognised = false
</code></pre>
<h2 id="including-requirements"><a class="header" href="#including-requirements">Including Requirements</a></h2>
<h3 id="option-1-direct-inclusion-via-table-of-contents"><a class="header" href="#option-1-direct-inclusion-via-table-of-contents">Option 1: Direct Inclusion via Table of Contents</a></h3>
<p>Create a toctree including requirement files:</p>
<p><strong>index.md</strong> (or <strong>index.rst</strong>):</p>
<pre><code class="language-markdown"># Project Documentation

## Contents

```{toctree}
:maxdepth: 2

guides/user-guide
requirements/USR-001
requirements/USR-002
requirements/SYS-001
\```
</code></pre>
<p>Requirements appear as pages in generated documentation.</p>
<h3 id="option-2-include-directive"><a class="header" href="#option-2-include-directive">Option 2: Include Directive</a></h3>
<p>Use the MyST <code>{include}</code> directive to embed requirements:</p>
<p><strong>guides/user-guide.md</strong>:</p>
<pre><code class="language-markdown"># User Guide

## Authentication

Our authentication system satisfies this requirement:

```{include} ../requirements/USR-001.md
:start-line: 6
\```

The `:start-line: 6` skips the YAML frontmatter (adjust based on your frontmatter length).
</code></pre>
<h3 id="option-3-literalinclude-for-requirements"><a class="header" href="#option-3-literalinclude-for-requirements">Option 3: Literalinclude for Requirements</a></h3>
<p>To show requirements as examples:</p>
<p><strong>requirements-format.md</strong>:</p>
<pre><code class="language-markdown"># Requirement Format

Requirements are Markdown files with YAML frontmatter:

```{literalinclude} requirements/USR-001.md
:language: markdown
\```
</code></pre>
<h2 id="working-example"><a class="header" href="#working-example">Working Example</a></h2>
<p>The Requiem repository includes a complete Sphinx example:</p>
<pre><code class="language-bash">git clone https://github.com/danieleades/requirements-manager
cd requirements-manager/examples/sphinx
</code></pre>
<h3 id="example-structure"><a class="header" href="#example-structure">Example Structure</a></h3>
<pre><code>examples/sphinx/
├── conf.py
├── index.md
├── requirements/
│   ├── USR-001.md
│   └── USR-002.md
├── pyproject.toml
├── Makefile
└── README.md
</code></pre>
<h3 id="build-the-example"><a class="header" href="#build-the-example">Build the Example</a></h3>
<ol>
<li>Install dependencies:</li>
</ol>
<pre><code class="language-bash">uv pip install -r requirements.txt
</code></pre>
<p>Or with pip:</p>
<pre><code class="language-bash">pip install sphinx myst-parser
</code></pre>
<ol start="2">
<li>Build documentation:</li>
</ol>
<pre><code class="language-bash">uv run make html
</code></pre>
<p>Or:</p>
<pre><code class="language-bash">make html
</code></pre>
<ol start="3">
<li>View output:</li>
</ol>
<pre><code class="language-bash"># Open _build/html/index.html in your browser
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="1-dedicated-requirements-directory"><a class="header" href="#1-dedicated-requirements-directory">1. Dedicated Requirements Directory</a></h3>
<p>Keep requirements in a separate directory:</p>
<pre><code>docs/
├── conf.py
├── requirements/          ← Requirements
│   ├── config.toml
│   └── *.md
└── source/               ← Other docs
    └── *.md
</code></pre>
<p><strong>Benefits</strong>:</p>
<ul>
<li>Clear separation</li>
<li>Easier Requiem configuration</li>
<li>Simpler to manage</li>
</ul>
<h3 id="2-use-myst-directives"><a class="header" href="#2-use-myst-directives">2. Use MyST Directives</a></h3>
<p>Leverage MyST's powerful directives:</p>
<p><strong>Include with line selection</strong>:</p>
<pre><code class="language-markdown">```{include} requirements/USR-001.md
:start-line: 7
:end-line: 20
\```
</code></pre>
<p><strong>Add captions</strong>:</p>
<pre><code class="language-markdown">```{literalinclude} requirements/USR-001.md
:language: markdown
:caption: USR-001: Email Validation Requirement
\```
</code></pre>
<h3 id="3-create-requirement-indexes"><a class="header" href="#3-create-requirement-indexes">3. Create Requirement Indexes</a></h3>
<p>Generate index pages for requirement types:</p>
<p><strong>requirements/user-requirements.md</strong>:</p>
<pre><code class="language-markdown"># User Requirements

```{toctree}
:maxdepth: 1

USR-001
USR-002
USR-003
\```
</code></pre>
<h3 id="4-cross-reference-with-sphinx-roles"><a class="header" href="#4-cross-reference-with-sphinx-roles">4. Cross-Reference with Sphinx Roles</a></h3>
<p>Use Sphinx's cross-referencing:</p>
<p><strong>guides/user-guide.md</strong>:</p>
<pre><code class="language-markdown">See {doc}`requirements/USR-001` for authentication requirements.
</code></pre>
<p>Sphinx generates proper links.</p>
<h3 id="5-integrate-with-autodoc"><a class="header" href="#5-integrate-with-autodoc">5. Integrate with Autodoc</a></h3>
<p>For Python projects, link code documentation to requirements:</p>
<p><strong>api/auth.py docstring</strong>:</p>
<pre><code class="language-python">def validate_email(email: str) -&gt; bool:
    """Validate email address.

    Implements requirement :doc:`requirements/USR-001`.
    """
    ...
</code></pre>
<h2 id="handling-frontmatter"><a class="header" href="#handling-frontmatter">Handling Frontmatter</a></h2>
<h3 id="problem-yaml-frontmatter-renders-as-code-block"><a class="header" href="#problem-yaml-frontmatter-renders-as-code-block">Problem: YAML Frontmatter Renders as Code Block</a></h3>
<p>Sphinx/MyST renders YAML frontmatter as a code block:</p>
<pre><code>---
_version: '1'
uuid: 4bfeb7d5-...
---
</code></pre>
<p>This is usually undesirable in rendered documentation.</p>
<h3 id="solution-1-skip-frontmatter-with-line-selection"><a class="header" href="#solution-1-skip-frontmatter-with-line-selection">Solution 1: Skip Frontmatter with Line Selection</a></h3>
<pre><code class="language-markdown">```{include} requirements/USR-001.md
:start-line: 7
\```
</code></pre>
<p>Only includes the requirement body, skipping frontmatter.</p>
<p><strong>Determining start line</strong>:
Typical frontmatter structure:</p>
<pre><code>Line 1: ---
Line 2: _version: '1'
Line 3: uuid: ...
Line 4: created: ...
Line 5: ---
Line 6: (empty line)
Line 7: Requirement text starts here
</code></pre>
<p>Use <code>:start-line: 7</code> to skip to content.</p>
<h3 id="solution-2-custom-myst-extension"><a class="header" href="#solution-2-custom-myst-extension">Solution 2: Custom MyST Extension</a></h3>
<p>Create a custom directive that parses frontmatter:</p>
<p><strong>conf.py</strong>:</p>
<pre><code class="language-python">from docutils import nodes
from docutils.parsers.rst import Directive
import yaml

class RequirementDirective(Directive):
    required_arguments = 1  # Requirement file path

    def run(self):
        # Parse requirement file
        # Extract frontmatter and body
        # Render as desired
        ...

def setup(app):
    app.add_directive("requirement", RequirementDirective)
</code></pre>
<p>Usage:</p>
<pre><code class="language-markdown">```{requirement} requirements/USR-001.md
\```
</code></pre>
<p>This allows custom rendering of requirements with frontmatter metadata.</p>
<h3 id="solution-3-preprocessing-script"><a class="header" href="#solution-3-preprocessing-script">Solution 3: Preprocessing Script</a></h3>
<p>Generate requirement markdown without frontmatter:</p>
<p><strong>generate-docs.sh</strong>:</p>
<pre><code class="language-bash">#!/bin/bash
mkdir -p _generated

for req in requirements/*.md; do
    # Skip frontmatter (lines 1-6), extract body
    tail -n +7 "$req" &gt; "_generated/$(basename "$req")"
done
</code></pre>
<p>Then include from <code>_generated/</code>:</p>
<pre><code class="language-markdown">```{include} _generated/USR-001.md
\```
</code></pre>
<h2 id="advanced-integration"><a class="header" href="#advanced-integration">Advanced Integration</a></h2>
<h3 id="requirement-traceability-matrix"><a class="header" href="#requirement-traceability-matrix">Requirement Traceability Matrix</a></h3>
<p>Generate traceability tables with Python scripts:</p>
<p><strong>generate-traceability.py</strong>:</p>
<pre><code class="language-python">#!/usr/bin/env python3
import glob
import yaml
import re

def parse_requirement(path):
    with open(path) as f:
        content = f.read()
    # Extract frontmatter
    match = re.match(r'^---\n(.*?)\n---\n(.*)$', content, re.DOTALL)
    if match:
        frontmatter = yaml.safe_load(match.group(1))
        body = match.group(2)
        return frontmatter, body
    return None, content

def generate_matrix():
    matrix = []
    for req_file in glob.glob("requirements/*.md"):
        frontmatter, body = parse_requirement(req_file)
        if frontmatter:
            hrid = req_file.split('/')[-1].replace('.md', '')
            parents = frontmatter.get('parents', [])
            parent_hrids = [p['hrid'] for p in parents]
            matrix.append((hrid, parent_hrids))

    # Generate Markdown table
    print("| Child | Parents |")
    print("|-------|---------|")
    for child, parents in matrix:
        print(f"| {child} | {', '.join(parents) if parents else '-'} |")

if __name__ == '__main__':
    generate_matrix()
</code></pre>
<p>Run before Sphinx build:</p>
<pre><code class="language-bash">python generate-traceability.py &gt; traceability.md
</code></pre>
<p>Include in documentation:</p>
<p><strong>index.md</strong>:</p>
<pre><code class="language-markdown">```{include} traceability.md
\```
</code></pre>
<h3 id="graphviz-diagrams"><a class="header" href="#graphviz-diagrams">Graphviz Diagrams</a></h3>
<p>Generate requirement hierarchy diagrams:</p>
<p><strong>generate-graph.py</strong>:</p>
<pre><code class="language-python">import glob
import yaml
import re

def generate_dot():
    print("digraph requirements {")
    for req_file in glob.glob("requirements/*.md"):
        with open(req_file) as f:
            content = f.read()
        match = re.match(r'^---\n(.*?)\n---', content, re.DOTALL)
        if match:
            frontmatter = yaml.safe_load(match.group(1))
            hrid = req_file.split('/')[-1].replace('.md', '')
            parents = frontmatter.get('parents', [])
            for parent in parents:
                print(f'    "{parent["hrid"]}" -&gt; "{hrid}";')
    print("}")

if __name__ == '__main__':
    generate_dot()
</code></pre>
<p>Generate diagram:</p>
<pre><code class="language-bash">python generate-graph.py | dot -Tpng &gt; hierarchy.png
</code></pre>
<p>Include in Sphinx:</p>
<pre><code class="language-markdown">![Requirement Hierarchy](hierarchy.png)
</code></pre>
<p>Or use Sphinx's <code>graphviz</code> directive:</p>
<p><strong>conf.py</strong>:</p>
<pre><code class="language-python">extensions = ["myst_parser", "sphinx.ext.graphviz"]
</code></pre>
<p><strong>docs/hierarchy.md</strong>:</p>
<pre><code class="language-markdown">```{graphviz}
:caption: Requirement Hierarchy

digraph requirements {
    "USR-001" -&gt; "SYS-001";
    "USR-002" -&gt; "SYS-001";
    "USR-002" -&gt; "SYS-002";
}
\```
</code></pre>
<h2 id="cicd-integration"><a class="header" href="#cicd-integration">CI/CD Integration</a></h2>
<p>Validate requirements and build docs in CI:</p>
<p><strong>.github/workflows/docs.yml</strong>:</p>
<pre><code class="language-yaml">name: Documentation

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Install dependencies
        run: |
          pip install sphinx myst-parser

      - name: Validate requirements
        run: |
          cargo install requirements-manager
          req clean
        working-directory: ./docs/requirements

      - name: Build documentation
        run: make html
        working-directory: ./docs

      - name: Deploy to GitHub Pages
        if: github.ref == 'refs/heads/main'
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./docs/_build/html
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="myst-parser-not-found"><a class="header" href="#myst-parser-not-found">MyST Parser Not Found</a></h3>
<p><strong>Error</strong>: <code>Extension error: Could not import extension myst_parser</code></p>
<p><strong>Solution</strong>: Install MyST Parser:</p>
<pre><code class="language-bash">pip install myst-parser
</code></pre>
<h3 id="markdown-files-not-processed"><a class="header" href="#markdown-files-not-processed">Markdown Files Not Processed</a></h3>
<p><strong>Problem</strong>: Markdown files don't appear in generated docs.</p>
<p><strong>Diagnosis</strong>: Check if MyST Parser is in <code>extensions</code> list.</p>
<p><strong>Solution</strong>: Add to <strong>conf.py</strong>:</p>
<pre><code class="language-python">extensions = ["myst_parser"]
</code></pre>
<h3 id="frontmatter-renders-incorrectly"><a class="header" href="#frontmatter-renders-incorrectly">Frontmatter Renders Incorrectly</a></h3>
<p><strong>Problem</strong>: YAML frontmatter shows as code block.</p>
<p><strong>Explanation</strong>: Expected behavior. MyST doesn't parse YAML frontmatter.</p>
<p><strong>Solution</strong>: Use line selection to skip frontmatter (see <a href="#handling-frontmatter">Handling Frontmatter</a>).</p>
<h3 id="include-directive-not-working"><a class="header" href="#include-directive-not-working">Include Directive Not Working</a></h3>
<p><strong>Problem</strong>: <code>{include}</code> directive doesn't embed content.</p>
<p><strong>Diagnosis</strong>: Check file path is correct relative to source file.</p>
<p><strong>Solution</strong>: Use correct relative paths:</p>
<pre><code class="language-markdown">```{include} ../requirements/USR-001.md
\```
</code></pre>
<h2 id="comparison-sphinx-vs-mdbook"><a class="header" href="#comparison-sphinx-vs-mdbook">Comparison: Sphinx vs. MdBook</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Feature</th><th>Sphinx</th><th>MdBook</th></tr></thead><tbody>
<tr><td><strong>Language</strong></td><td>Python ecosystem</td><td>Rust ecosystem</td></tr>
<tr><td><strong>Markup</strong></td><td>RST + Markdown (via MyST)</td><td>Markdown only</td></tr>
<tr><td><strong>Extensions</strong></td><td>Extensive ecosystem</td><td>Growing ecosystem</td></tr>
<tr><td><strong>API Docs</strong></td><td>Excellent (autodoc)</td><td>Limited</td></tr>
<tr><td><strong>Themes</strong></td><td>Many available</td><td>Fewer options</td></tr>
<tr><td><strong>Speed</strong></td><td>Slower (Python)</td><td>Faster (Rust)</td></tr>
<tr><td><strong>Requirement Integration</strong></td><td>Good with MyST</td><td>Native (both Markdown)</td></tr>
</tbody></table>
</div>
<p><strong>Choose Sphinx if</strong>:</p>
<ul>
<li>Python project</li>
<li>Need autodoc/API documentation</li>
<li>Want extensive extension ecosystem</li>
</ul>
<p><strong>Choose MdBook if</strong>:</p>
<ul>
<li>Rust project</li>
<li>Simpler setup</li>
<li>Pure Markdown workflow</li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p><strong>Key Points</strong>:</p>
<ul>
<li>Use MyST Parser extension for Markdown support</li>
<li>Requirements integrate naturally with MyST directives</li>
<li>Skip frontmatter with line selection (<code>:start-line:</code>)</li>
<li>Generate traceability matrices and diagrams with scripts</li>
<li>Validate requirements in CI before building docs</li>
</ul>
<p><strong>Best Practices</strong>:</p>
<ul>
<li>Dedicated requirements directory</li>
<li>Use MyST directives for rich formatting</li>
<li>Create requirement indexes</li>
<li>Cross-reference with Sphinx roles</li>
<li>Integrate with CI/CD</li>
</ul>
<p><strong>Limitations</strong>:</p>
<ul>
<li>Frontmatter renders as code block (use line selection)</li>
<li>Requires MyST Parser (additional dependency)</li>
<li>Less "native" than MdBook (Sphinx primarily RST)</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ul>
<li>Review the <a href="https://github.com/danieleades/requirements-manager/tree/main/examples/sphinx">Sphinx example</a> in the repository</li>
<li>See <a href="./version-control.html">Version Control Best Practices</a> for managing requirements</li>
<li>Compare with <a href="./mdbook.html">Using with MdBook</a> for Rust projects</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../integration/mdbook.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../integration/version-control.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../integration/mdbook.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../integration/version-control.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
